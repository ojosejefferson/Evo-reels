@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
  * {
    margin: 0;
    padding: 0;
    box-sizing: border-box;
  }

  body, html {
    height: 100%;
    width: 100%;
    font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
  }
}

@layer components {
  /* Spinner de carregamento */
  .spinner {
    border-top-color: #fff;
    animation: spinner 1s linear infinite;
  }

  @keyframes spinner {
    0% { transform: rotate(0deg); }
    100% { transform: rotate(360deg); }
  }

  /* Barra de progresso do vídeo */
  .evo-reels-progress-line {
    height: 3px;
    background: rgba(255, 255, 255, 0.3);
    border-radius: 2px;
    position: relative;
  }

  .evo-reels-progress-fill {
    width: 0%;
    height: 100%;
    background: white;
    border-radius: 2px;
    transition: width 0.1s linear;
  }

  .evo-reels-progress-handle {
    position: absolute;
    top: 50%;
    left: 0;
    transform: translate(-50%, -50%);
    width: 10px;
    height: 10px;
    background: white;
    border-radius: 50%;
    opacity: 0;
    transition: opacity 0.1s;
  }

  /* Estilos de zoom */
  .slide-zoom img {
    transition: transform 0.4s ease;
    transform-origin: center center;
  }

  .slide-zoom:hover img {
    transform: scale(2.2);
  }

  /* Responsividade do modal */
  @media (max-width: 767px) {
    #evo-reels-root {
      position: fixed;
      top: 0;
      left: 0;
      right: 0;
      bottom: 0;
    }
  }

  /* ==================== EVO-CIRCLE STYLES ==================== */
  .evo-circle-player {
    width: 100px !important;
    height: 100px !important;
    position: fixed !important;
    bottom: 24px !important;
    right: 24px !important;
    z-index: 2147483647 !important; /* Valor máximo do z-index */
    cursor: grab !important;
    border-radius: 50% !important;
    overflow: hidden !important;
    box-shadow: 0 10px 40px rgba(0, 0, 0, 0.5) !important;
    border: 4px solid transparent !important;
    background: linear-gradient(white, white) padding-box,
                conic-gradient(from 0deg, #ff00c3, #ff6bff, #00f2ff, #00ff9d, #ff00c3) border-box !important;
    transition: all 0.4s cubic-bezier(0.25, 0.8, 0.25, 1) !important;
    transform: scale(1) !important;
    pointer-events: auto !important;
    isolation: isolate !important; /* Cria novo contexto de empilhamento */
  }

  .evo-circle-player:hover {
    transform: scale(1.12) !important;
    box-shadow: 0 20px 60px rgba(0, 0, 0, 0.7) !important;
    border: 5px solid transparent !important;
  }

  .evo-circle-player video {
    width: 100% !important;
    height: 100% !important;
    object-fit: cover !important;
    border-radius: 50% !important;
  }

  .evo-circle-close {
    position: absolute !important;
    top: 4px !important;
    right: 4px !important;
    width: 26px !important;
    height: 26px !important;
    background: rgba(0, 0, 0, 0.75) !important;
    color: white !important;
    border: none !important;
    border-radius: 50% !important;
    font-weight: bold !important;
    font-size: 14px !important;
    cursor: pointer !important;
    z-index: 10 !important;
    display: flex !important;
    align-items: center !important;
    justify-content: center !important;
    backdrop-filter: blur(8px) !important;
    box-shadow: 0 4px 12px rgba(0,0,0,0.4) !important;
  }

  .evo-circle-close:hover {
    background: rgba(220, 38, 38, 0.9) !important;
    transform: scale(1.15) !important;
  }

  /* Forçar TODOS os elementos do WordPress a ficarem abaixo do miniplayer */
  header,
  footer,
  .site-header,
  .site-footer,
  #header,
  #footer,
  .header,
  .footer,
  .main-header,
  .main-footer,
  nav,
  .navbar,
  .main-navigation,
  .site-navigation,
  .wp-block-group,
  .wp-block-columns,
  .wp-block-template-part,
  .elementor-element,
  .elementor-widget,
  .elementor-section,
  .woocommerce,
  .wc-block-components-notice-banner,
  .wp-block-cover,
  .wp-block-group__inner-container,
  .site-main,
  .content-area,
  .main-content,
  article,
  section,
  div[class*="header"],
  div[class*="footer"],
  div[class*="Header"],
  div[class*="Footer"],
  *[class*="sticky"],
  *[class*="fixed"][class*="top"],
  *[class*="fixed"][class*="bottom"] {
    position: relative !important;
    z-index: 1 !important;
  }

  /* Estilos específicos para footer do WordPress */
  footer,
  .site-footer,
  #footer,
  .footer,
  .main-footer,
  .wp-block-template-part[data-area="footer"] {
    z-index: 1 !important;
    position: relative !important;
  }

  /* Quando modal está aberto, garantir que footer fique abaixo */
  body.evo-reels-modal-open footer,
  body.evo-reels-modal-open .site-footer,
  body.evo-reels-modal-open #footer,
  body.evo-reels-modal-open .footer,
  body.evo-reels-modal-open .main-footer,
  body.evo-reels-modal-open .wp-block-template-part[data-area="footer"] {
    z-index: 1 !important;
    position: relative !important;
  }

  /* Em mobile, garantir que header e footer não interfiram */
  @media (max-width: 767px) {
    header,
    footer,
    .site-header,
    .site-footer,
    .main-header,
    .main-footer,
    #footer,
    .footer,
    .wp-block-template-part[data-area="footer"] {
      z-index: 1 !important;
      position: relative !important;
    }

    /* Garantir que o modal cubra toda a viewport em mobile */
    body.evo-reels-modal-open {
      overflow: hidden !important;
      position: fixed !important;
      width: 100% !important;
      height: 100% !important;
    }
  }

}

